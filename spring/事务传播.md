# 事务传播类型
- REQUIRED(默认值):当前没有事务，则创建一个事务，如果当前存在事务，则加入该事务。
- REQUIRES_NEW: 创建新事务，如果当前存在事务，则挂起当前事务。新事务与当前事务相互隔离，互不影响。
- SUPPORTS: 支持当前事务，如果当前没有事务，则以非事务模式执行。
- NOT_SUPPORTED: 以非事务方式执行，如果当前存在事务，则挂起当前事务。
- MANDATORY: 使用当前事务，如果当前没有事务，则抛出异常。
- NEVER: 以非事务方式运用，如果当前存在事务，则抛出异常。
- NESTED: 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行REQUIRED的操作。

- 嵌套事务：外层事务会影响内层事务，内层事务则不影响外层事务。

# 单例spring bean生命周期(https://crossoverjie.top/2018/03/21/spring/spring-bean-lifecycle/)
- 实例化容器
- 扫描类
- 解析类并实例化beanDefinition
- 将beanDefinition放入beanFatory的beanDefinitionMap
- 调用BeanFatoryPostProcessor, 可以对beanFactory进行修改
- 




- 实例化
- 填充属性
- 设置beanName
- 设置beanFactory
- 设置applicationContext
- 调用beforeInitialization方法
- 调用AfterPropertiesSet方法 BeanPostProcessor
- 调用自定义init方法
- 调用AfterInit方法  BeanPostProcessor
- bean就绪状态
- 调用destory方法
- 调用自定义destory方法


# 循环依赖：
- 构造器循环依赖，无法解决直接抛异常
- 填充属性循环依赖，通过三级缓存
DefaultSingletonBeanRegistry中，存在3个map
- 非单例模式，无法完成依赖注入
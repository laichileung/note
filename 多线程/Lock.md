# ReentranLock
在并发环境中，如果线程交替执行，则不会初始化aqs队列，只会修改aqs中的state变量。
如果线程竞争执行（公平锁）：
1、判断state有无加锁，没有则判断线程是否需要排队, 不需要则直接加锁。如果state已经被上锁，则判断aqs持有锁的线程与当前线程是否一致，一致则允许重入。
2、state已经加锁，则会进行入队操作addWaiter。首先判断队列有无初始化，即tail是否为空，如果tail为空，则创建一个空Node节点作为队头并赋值给队尾，接着将当前线程放入队尾。
3、调用acquireQueued方法，判断当前节点是否第二个节点。
4、如果是第二个节点，则直接tryAcquire尝试加锁，加锁成功则将当前节点设置为头节点，并返回。
5、加锁失败，则判断是否需要park当前线程shouldParkAfterFailedAcquire，判断前一个对象的waitStatus，如果>0则出队列，如果为0则设置为-1，如果为-1则代表前一节点正在等待锁，则将当前节点线程park。